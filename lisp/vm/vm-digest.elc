;;; compiled by jwz@thalidomide on Sat Dec 28 16:57:15 1991
;;; from file /wg1/emacs-base/lisp/vm/vm-digest.el
;;; emacs version 19.39.
;;; bytecomp version 2.03; 29-oct-91.
;;; optimization is on.
;;; this file uses opcodes which do not exist in Emacs18.

(if (and (boundp 'emacs-version)
	 (or (and (boundp 'epoch::version) epoch::version)
	     (string-lessp emacs-version "19")))
    (error "This file was compiled for Emacs19."))

(byte-code "ÀÁ!ˆÂÃMˆÄÅMˆÆÇM‡" [require vm vm-rfc934-char-stuff-region #[(start end) "À 	Â“Šbˆ`	W«ÄÅ	Æ#«ˆÇÈÆ‰#ˆªl)	Â‰“‡" [make-marker end nil start re-search-forward "^-" t replace-match "- -"] 4] vm-rfc934-char-unstuff-region #[(start end) "À 	Â“Šbˆ`	W«’ÄÅ	Æ#«‹ÇÈÆ‰#ˆÂuˆªi)	Â‰“‡" [make-marker end nil start re-search-forward "^- " t replace-match ""] 4] vm-digestify-region #[(start end) "À 	Â“Ä=«ƒÅªÆŠÈ		\"ˆ	bˆÊË!ˆ`Âyˆ`|ˆÌ	Í#«ˆÎÏÍÂ#ˆªp	bˆÄ=«‡`Ğyˆ`|ˆÊÑ!ˆ*	Â‰“‡" [make-marker end nil vm-folder-type mmdf "\n+\n" "\n+\nFrom .*" separator-regexp vm-rfc934-char-stuff-region start insert-before-markers "------- Start of digest -------\n" re-search-forward t replace-match "\n\n------------------------------\n" -1 "------- End of digest -------\n"] 4]] 2)
(fset 'vm-burst-digest #[(&optional grotty-digest) "À ˆ	«ˆÂ	!«ƒ	qˆÃ!«‡Â!¬‚ÅÇ=«†ÈÉ\n\"ˆ«ˆÌÍpC\"ˆªtÎ ˆÏĞ«ƒÒªÓ\"ˆÔÅ‰‰‰‰‰Õ Å‰“Õ Å‰“ÅÖ @ !\"#Šä deZVÅ‰%&‰'«‘Õ eÅ“‰&«‡Õ dÅ“%èİéêˆ-ë ­‰ì ˆí ®‚î .‡" [vm-follow-summary-cursor vm-mail-buffer buffer-name bufferp vm-summary-buffer nil major-mode vm-virtual-mode error "%s cannot be applied to virtual folders." this-command vm-folder-read-only signal folder-read-only vm-error-if-folder-empty message "Bursting %sdigest..." grotty-digest "(possible grotty) " "" t make-marker buffer-modified-p vm-message-pointer m old-buffer-modified-p buffer-read-only text-start reg-end error-data trailer leader reg-start end start inhibit-quit buffer-size vm-sr-max vm-sr-min vm-sr-clip ((byte-code "~ˆ«	\n}ˆ	Ã‰“ˆ\nÃ‰“ˆÃ‡" [vm-sr-clip vm-sr-min vm-sr-max nil] 3)) (byte-code "~ˆdbˆ`ÁpÂ@!Ä@!#ˆÅÆÇ#¬†ÈÉ!ˆª¯Ê ŠÅÆÇ#ˆÌ•U)«Ì”Í“ˆbˆªdÎÍxˆ`Í“ˆd|ˆbˆÏĞÇ#¬†ÈÑ!ˆª…Ì”|ˆ«…Ód\"ˆÕ=«ˆÖØª’ÚÜHİHŞß Î°àbˆÏáÌ#«ğâãÇ‰#ˆä”«„cˆcˆ`%ŠæàÍÌ#ˆ'`Í“ˆ)Ï('Ç#«ˆÌ”Ì•|ˆªo)«•%bˆÏ*'Ç#«ˆÌ”Ì•|ˆªo%bˆ+ÏìÌ#«„Ì”ª`Í“ˆí%+\"ˆ+bˆªbˆcˆÍ‰“ˆ+Í‰“ˆî ˆïğ !ˆ1«„òó!ˆÍ‡" [start insert-buffer-substring vm-text-of vm-message-pointer vm-text-end-of re-search-backward "\\(^-[^ ].*\n+\\|^-\n+\\)+" t error "final message separator not found" point-marker end 0 nil "\n" re-search-forward "^-[^ ]" "first message separator not found" grotty-digest vm-fix-grotty-digest vm-folder-type mmdf "\n" leader "\n\n" trailer "From " m 3 8 " " current-time-string "\n\n" "\\(\\(\n+\\)\\|\\(^\\)\\)\\(-[^ ].*\n+\\|-\n+\\)+" replace-match "" 2 reg-start search-forward text-start vm-attributes-header-regexp vm-berkeley-mail-compatibility vm-berkeley-mail-status-header-regexp reg-end "\n+-[^ ]" vm-rfc934-char-unstuff-region vm-clear-modification-flag-undos vm-set-buffer-modified-p buffer-modified-p vm-delete-after-bursting vm-delete-message 1] 5) ((error (byte-code "«„d|ˆÁ\n!ˆ@Ä>«‡Å@A\"ˆÆÇ!‡" [start set-buffer-modified-p old-buffer-modified-p error-data (file-supersession buffer-file-locked) signal error "Malformed digest"] 3))) vm-assimilate-new-messages vm-emit-totals-blurb vm-thoughtfully-select-message vm-update-summary-and-mode-line] 13 "\
Burst the current message (a digest) into its individual messages.
The digest's messages are assimilated into the folder as new mail would be,
e.g. message grouping takes place and if you're not reading a message
you will be moved to the first new or unread message.

By default VM expects digests to be in the standard RFC 934 format.
A prefix will inveigle VM into coping with other digest formats,
with mixed results." "P"])
(fset 'vm-fix-grotty-digest #[(start end) "ŠŒ	}ˆbˆÂyˆÃÄÅÆ#­‘Ç”bˆÈÉ¬ƒÊcˆÂyˆªh*‡" [start end 1 re-search-forward "^-[^ ]" nil t 0 real-separator (byte-code "ÀÁ!¬…ÂÃÄ\"ˆ`ÅZfÆU¬…ÂÃÄ\"ˆÀÇ!¬…ÂÃÄ\"ˆÈ‡" [looking-at "------------" throw real-separator nil 2 10 ".+\n\n" t] 3) "- "] 4])
