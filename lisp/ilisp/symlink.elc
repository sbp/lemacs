;;; compiled by jwz@thalidomide on Tue Jun 30 22:09:35 1992
;;; from file /wg1/emacs-base/lisp/ilisp/symlink.el
;;; emacs version 19.2.1 Lucid.
;;; bytecomp version 2.07; 17-jun-92.
;;; optimization is on.
;;; this file uses opcodes which do not exist in Emacs18.

(if (and (boundp 'emacs-version)
	 (or (and (boundp 'epoch::version) epoch::version)
	     (string-lessp emacs-version "19")))
    (error "This file was compiled for Emacs19."))

(byte-code "ÀÁ!¬…ÁÂKMˆÀ‡" [fboundp original-expand-file-name expand-file-name] 2)
(defvar expand-symlinks nil "\
*Set this to T to expand symbolic links.")
(defvar expand-symlinks-rfs-exists nil "\
T at cmu, nil otherwise.  This is to preserve machine name context like
/../foo in the file names during expansion of symlinks.")
(fset 'expand-symlinks-rfs-machine-context #[(old-dir new-dir) "ÀÁ\n\"«‚Ã‡ÀÄ‰\"¬‚Ã‡Ç‰•SO‡" [string-match "\\(/\\.\\.\\|/afs\\)" new-dir "" "^/\\.\\./[^/]+/" old-dir *ld 0] 4 "\
If new-dir is afs or rfs to another machine, forget old-dir.
Otherwise leave /../machine in the old-dir and return it, else the empty
string."])
(byte-code "ÀÁMˆÂÃMˆÄÅM‡" [join-file-name #[(left right) "G\nG	ÅÇÅV«‘SHÉ=«‰ÊS‰ªkW«“\nHÉ=«‹ÊT‰ªi	=«ƒª„ÅO«ƒËªÌÅ=«ƒ\nª…\nOQ-‡" [left llen right rlen lend 0 rstart nil slash-found 47 t "/" ""] 6] split-file-name #[(file-name) "ÀÁ\n\"«\nÃ”Ã•O\nÄ”Ä•OB‡\nÅB‡" [string-match "\\`\\(/*[^/]+\\)\\(/.*\\)\\'" file-name 1 2 ""] 4] hack-local-link #[(file-name link) "ÀÁ\n\"¬…ÃÄ\n\"ˆ\nÅ”Å•OP‡" [string-match "\\`\\(.*/\\)[^/]+\\'" file-name error "hack-local-link bad argument: %s" 1 link] 3]] 2)
(fset 'expand-file-name #[(file-name &optional directory) "À‰‰‰‰Æ\"	«îÊË\"‰­ƒÌUÍÍš¬ØÎ!Ï\n@\"«‰ĞP‰À\nAÒ!‰«[	GÌ=«‚Ó	ÌHÔ=¬•Î	!ÏÕ!\n@\"Ï\nA\"‰ª8Ï	\"«‡×\"ª'Íª#ª-‡" [nil link split right left left-slash original-expand-file-name file-name directory expand-symlinks string-match "//" 0 "" split-file-name join-file-name "/" *l2 file-symlink-p "." 47 file-name-directory expand-symlinks-rfs-exists expand-symlinks-rfs-machine-context] 6 "\
Convert FILENAME to absolute, and canonicalize it.
Second arg DEFAULT is directory to start with if FILENAME is relative
(does not start with slash)		; if DEFAULT is nil or missing,
the current buffer's value of default-directory is used.
Filenames containing . or .. as components are simplified ;
initial ~ is expanded.  See also the function  substitute-in-file-name.
This has been modified to resolve all symbolic links from FILENAME.
The original function definition is stored on original-expand-file-name."])
(provide 'symlink)
