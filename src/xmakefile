COMPILE.c=$(CC) $(CFLAGS) $(CPPFLAGS) -c
dot = .
lispdir = ../lisp/
etcdir = ../etc/
shortnamesdir = ../shortnames/
cppdir = ../cpp/
CC=gcc
STARTFILES = crt0.o 
LD=gcc -nostdlib
ILD=/cadillac1/utilities/cadild
ENERGIZE_CDIR=/cadillac-code/isam-cadlcc-sun4
CFLAGS= -g      -I/cadillacgnu/gcc-include -I/x11r4/usr/include  	-Demacs $(MYCPPFLAG) $(LIBX11_INCLUDES)  
LDFLAGS= -e __start -static    -L/x11r4/usr.`arch`/lib  	-L. $(LIBX11_LDFLAGS)   
XOBJ= xterm.o xfns.o xselect.o xutils.o event-Xt.o menubar.o
LWLIBDIR = ./lwlib
LIBX11_LDFLAGS = -L$(LWLIBDIR)
LIBX11_INCLUDES = -I$(LWLIBDIR)
TOOLKIT_LIBS = 
LIBX11_LIBS = $(LWLIBDIR)/liblw.a $(TOOLKIT_LIBS) -lXaw -lXext -lXt
LIBX=  $(LIBX11_LIBS) -lXmu -lX11    
environobj = environ.o
obj=    dispnew.o screen.o scroll.o xdisp.o window.o 	events.o event-alloc.o event-stream.o 	term.o cm.o $(XOBJ) play.o libsst.o  	emacs.o keyboard.o macros.o keymap.o sysdep.o 	buffer.o filelock.o insdel.o marker.o 	minibuf.o fileio.o dired.o filemode.o 	cmds.o casetab.o casefiddle.o indent.o search.o regex.o undo.o 	alloc.o data.o doc.o editfns.o callint.o 	eval.o floatfns.o fns.o print.o lread.o 	abbrev.o syntax.o font_lock.o unexec.o  mocklisp.o bytecode.o 	process.o callproc.o $(environobj) 	doprnt.o extents.o faces.o elhash.o hash.o      	 
termcapobj = tparam.o
mallocobj = gmalloc.o vm-limit.o  
otherobj= $(termcapobj) lastfile.o $(mallocobj) ScreenWidget.o ColumnWidget.o EmacsShell.o 
lisp=	${lispdir}version.el ${lispdir}paths.el 	${lispdir}prim/loadup.el ${lispdir}prim/subr.elc 	${lispdir}prim/faces.elc ${lispdir}prim/loaddefs.el 	${lispdir}prim/simple.elc ${lispdir}prim/help.elc 	${lispdir}prim/files.elc ${lispdir}prim/indent.elc 	${lispdir}prim/window.elc ${lispdir}prim/startup.elc 	${lispdir}prim/lisp.elc ${lispdir}prim/page.elc 	${lispdir}prim/register.elc ${lispdir}prim/iso8859-1.elc 	${lispdir}prim/paragraphs.elc ${lispdir}modes/lisp-mode.elc 	${lispdir}modes/text-mode.elc ${lispdir}prim/fill.elc 	${lispdir}modes/c-mode.elc ${lispdir}prim/isearch-mode.elc 	${lispdir}prim/replace.elc ${lispdir}modes/abbrev.elc 	${lispdir}packages/buff-menu.elc ${lispdir}prim/userlock.elc 	${lispdir}bytecomp/bytecomp-runtime.elc 	${lispdir}prim/float-sup.elc  ${lispdir}prim/screen.elc ${lispdir}prim/menubar.elc ${lispdir}prim/menubar.elc ${lispdir}x11/x-faces.elc ${lispdir}x11/x-iso8859-1.elc ${lispdir}x11/x-mouse.elc ${lispdir}prim/mouse.elc ${lispdir}prim/mode-motion.elc ${lispdir}x11/xselect.elc   
SHELL=/bin/sh
LIBES = -L/usr/demo/SOUND -laudio              $(LIBX)     -ltermcap  	-lg  -lgcc  -lm  -lc 
all: release  
release: temacs ${lisp} ${etcdir}DOC  
	./temacs -batch -l inc-vers
	./temacs -batch -l loadup.el dump
xemacs: temacs ${lisp} ${etcdir}DOC  
	./temacs -batch -l loadup.el dump
${etcdir}DOC: ${etcdir}make-docfile ${obj} ${lisp}
	rm -f ${etcdir}DOC
	${etcdir}make-docfile ${obj} ${lisp} ${lispdir}version.el > 	  ${etcdir}DOC
${etcdir}make-docfile:
	cd ${etcdir}; make ${MFLAGS} make-docfile
temacs:         $(LOCALCPP) $(SHORT) $(STARTFILES) ${obj} ${otherobj} sunOS-fix.o strcmp.o strcpy.o    $(LWLIBDIR)/liblw.a  
	$(LD)   ${STARTFLAGS} ${LDFLAGS} -o $@ ${STARTFILES} ${obj} ${otherobj} sunOS-fix.o strcmp.o strcpy.o    ${LIBES} 
cemacs:         $(LOCALCPP) $(SHORT) $(STARTFILES) ${obj} ${otherobj} sunOS-fix.o strcmp.o strcpy.o    $(LWLIBDIR)/liblw.a  
	$(ILD)  ${STARTFLAGS} ${LDFLAGS} -o $@ ${STARTFILES} ${obj} ${otherobj} sunOS-fix.o strcmp.o strcpy.o    ${LIBES}  -Xez
temacs_ild:         $(LOCALCPP) $(SHORT) $(STARTFILES) ${obj} ${otherobj} sunOS-fix.o strcmp.o strcpy.o    $(LWLIBDIR)/liblw.a  
	$(ILD)  ${STARTFLAGS} ${LDFLAGS} -o $@ ${STARTFILES} ${obj} ${otherobj} sunOS-fix.o strcmp.o strcpy.o    ${LIBES}  -ild -target $@ $?
$(LWLIBDIR)/Makefile: $(LWLIBDIR)/Imakefile
	cd $(LWLIBDIR); if [ -f Makefile ]; then $(MAKE) Makefile;else xmkmf;fi
$(LWLIBDIR)/liblw.a: $(LWLIBDIR)/Makefile
	cd $(LWLIBDIR) ; $(MAKE) $(MFLAGS) liblw.a
CPP = $(CC) -E
paths.h: paths.h-dist
	@sh -c "if test -r $@; then echo $? is newer than $@; exit 1;	  else exit 0; fi"
	cp $? $@
config.h: config.h-dist
	@sh -c "if test -r $@; then echo $? is newer than $@; exit 1;	  else exit 0; fi"
	cp $? $@
MKDEP = /cadillac1/utilities/makedepend -/ -fDependencies
mydepend:
	${MKDEP} -- $(CFLAGS) $(CPPFLAGS) -I/usr/demo/SOUND  -- -s"# Machine generated dependencies" *.c
xfns.o : xfns.c buffer.h screen.h window.h config.h xterm.h          ScreenWidget.h ColumnWidget.h EmacsShell.h EmacsShellP.h
xutils.o : xutils.c xterm.h config.h
xterm.o : xterm.c xterm.h termhooks.h termopts.h termchar.h dispextern.h           config.h sink.h sinkmask.h screen.h disptab.h bitmaps.h
xselect.o : xselect.c lisp.h xterm.h screen.h config.h
ScreenWidget.o : ScreenWidget.c ScreenWidget.h ScreenWidgetP.h
ColumnWidget.o : ColumnWidget.c ColumnWidget.h ColumnWidgetP.h
EmacsShell.o : EmacsShell.c EmacsShell.h EmacsShellP.h
play.o : libsst.h
	$(CC) -c $(CFLAGS) -I/usr/demo/SOUND  play.c
libsst.o : libsst.h
	$(CC) -c $(CFLAGS) -I/usr/demo/SOUND  libsst.c
${etcdir}emacstool: ${etcdir}emacstool.c
	cd ${etcdir}; make ${MFLAGS} emacstool
ColumnWidget.o: ColumnWidgetP.h ColumnWidget.h
EmacsShell.o: EmacsShellP.h EmacsShell.h
LineInfoWidget.o: LineInfoWidgetP.h LineInfoWidget.h config.h 
LineInfoWidget.o: buffer.h bufslots.h
LineInfoWidget.o: screen.h dispextern.h window.h
ScreenWidget.o: ScreenWidgetP.h ScreenWidget.h config.h 
ScreenWidget.o: xterm.h blockio.h
ScreenWidget.o: dispextern.h screen.h
abbrev.o: config.h commands.h
abbrev.o: buffer.h bufslots.h window.h
alloc.o: config.h buffer.h puresize.h
alloc.o: bufslots.h extents.h dispextern.h window.h events.h keymap.h xterm.h
alloc.o: blockio.h screen.h backtrace.h
alloca.o: config.h
buffer.o: config.h window.h
buffer.o: commands.h buffer.h bufslots.h screen.h dispextern.h syntax.h
bytecode.o: config.h buffer.h
bytecode.o: bufslots.h syntax.h
callint.o: config.h buffer.h
callint.o: bufslots.h commands.h window.h
callproc.o: config.h commands.h
callproc.o: buffer.h bufslots.h paths.h process.h
casefiddle.o: config.h buffer.h
casefiddle.o: bufslots.h commands.h syntax.h
casetab.o: config.h buffer.h
casetab.o: bufslots.h
cm.o: config.h cm.h termhooks.h
cmds.o: config.h commands.h
cmds.o: buffer.h bufslots.h syntax.h
crt0.o: config.h
data.o: config.h buffer.h puresize.h
data.o: bufslots.h
dired.o: config.h buffer.h
dired.o: bufslots.h commands.h regex.h
dispnew.o: config.h indent.h termchar.h
dispnew.o: termopts.h cm.h buffer.h bufslots.h screen.h dispextern.h
dispnew.o: window.h commands.h disptab.h xterm.h blockio.h
doc.o: config.h buffer.h
doc.o: bufslots.h
duplicates.o: config.h buffer.h
duplicates.o: bufslots.h process.h editorside.h hash.h extents-data.h
duplicates.o: extents.h dispextern.h
editfns.o: config.h pwd.h 
editfns.o: buffer.h bufslots.h window.h
editorside.o: config.h buffer.h
editorside.o: bufslots.h extents.h dispextern.h process.h xterm.h blockio.h
editorside.o: screen.h window.h editorside.h hash.h extents-data.h
elhash.o: config.h hash.h
emacs.o: config.h commands.h
environ.o: config.h 
eval.o: config.h blockio.h
eval.o: commands.h backtrace.h
event-Xt.o: ScreenWidgetP.h ScreenWidget.h config.h
event-Xt.o: process.h events.h
event-Xt.o: blockio.h dispextern.h screen.h xterm.h
event-alloc.o: config.h buffer.h
event-alloc.o: bufslots.h window.h screen.h dispextern.h process.h events.h
event-alloc.o: xterm.h blockio.h
event-stream.o: config.h 
event-stream.o: buffer.h bufslots.h window.h process.h events.h
events.o: config.h buffer.h
events.o: bufslots.h process.h events.h
extents.o: config.h buffer.h
extents.o: bufslots.h process.h xterm.h blockio.h screen.h dispextern.h
extents.o: window.h editorside.h hash.h extents-data.h extents.h faces.h
fileio.o: pwd.h config.h 
fileio.o: buffer.h bufslots.h window.h
filelock.o: config.h pwd.h 
filelock.o: paths.h buffer.h bufslots.h
floatfns.o: config.h 
fns.o: config.h commands.h
fns.o: buffer.h bufslots.h extents.h dispextern.h screen.h events.h
font_lock.o: config.h buffer.h syntax.h
free-hook.o: config.h hash.h blockio.h
faces.o: config.h xterm.h
faces.o: blockio.h buffer.h bufslots.h extents.h dispextern.h screen.h
faces.o: window.h indent.h editorside.h hash.h extents-data.h faces.h
gmalloc.o: config.h
hash.o: hash.h config.h 
iclasses.o: config.h buffer.h
iclasses.o: bufslots.h
indent.o: config.h buffer.h
indent.o: bufslots.h extents.h dispextern.h indent.h screen.h window.h
indent.o: termchar.h termopts.h disptab.h xterm.h blockio.h
insdel.o: config.h buffer.h
insdel.o: bufslots.h extents.h dispextern.h window.h
keyboard.o: config.h termchar.h
keyboard.o: termopts.h termhooks.h macros.h buffer.h bufslots.h
keyboard.o: screen.h dispextern.h window.h commands.h disptab.h events.h
keyboard.o: backtrace.h
keymap.o: config.h keymap.h
keymap.o: commands.h buffer.h bufslots.h events.h
libsst.o: libsst.h
lread.o: config.h buffer.h
lread.o: bufslots.h paths.h commands.h
macros.o: config.h events.h
macros.o: macros.h commands.h buffer.h bufslots.h window.h
malloc.o: config.h getpagesize.h
marker.o: config.h buffer.h
marker.o: bufslots.h
menubar.o: config.h dispextern.h
menubar.o: screen.h xterm.h blockio.h events.h window.h buffer.h bufslots.h
menubar.o: ./lwlib/lwlib.h
menuitems.o: config.h menuitems.h
menuitems.o: connmemory.h editorside.h hash.h
minibuf.o: config.h commands.h
minibuf.o: buffer.h bufslots.h screen.h dispextern.h window.h syntax.h
mocklisp.o: config.h buffer.h
mocklisp.o: bufslots.h
play.o: libsst.h
sgiplay.o: config.h lisp.h libst.h
print.o: config.h buffer.h
print.o: bufslots.h extents.h dispextern.h screen.h window.h process.h
print.o: events.h
process.o: config.h window.h
process.o: buffer.h bufslots.h process.h termhooks.h termopts.h commands.h
process.o: events.h
ralloc.o: config.h mem_limits.h
regex.o: config.h buffer.h
regex.o: bufslots.h syntax.h regex.h
screen.o: config.h dispextern.h
screen.o: screen.h window.h xterm.h blockio.h
scroll.o: config.h termchar.h 
scroll.o: dispextern.h screen.h
search.o: config.h syntax.h
search.o: buffer.h bufslots.h commands.h regex.h
sunfns.o: config.h window.h
sunfns.o: buffer.h bufslots.h termhooks.h
syntax.o: config.h commands.h
syntax.o: buffer.h bufslots.h syntax.h
sysdep.o: config.h dispextern.h
sysdep.o: screen.h window.h termhooks.h termchar.h termopts.h process.h
term.o: config.h termhooks.h
term.o: termchar.h termopts.h cm.h dispextern.h screen.h disptab.h
termcap.o: config.h
tparam.o: config.h
undo.o: config.h buffer.h
undo.o: bufslots.h
unexconvex.o: config.h getpagesize.h
unexec.o: config.h getpagesize.h
unexenix.o: config.h
unexmips.o: config.h
unexsunos4.o: config.h
vm-limit.o: config.h mem_limits.h
vm-limit.o: 
vmsproc.o: ssdef.h iodef.h dvidef.h clidef.h vmsproc.h
window.o: config.h buffer.h
window.o: bufslots.h screen.h dispextern.h window.h commands.h indent.h
window.o: termchar.h disptab.h
xdisp.o: config.h window.h
xdisp.o: termchar.h buffer.h bufslots.h extents.h dispextern.h screen.h
xdisp.o: indent.h commands.h macros.h disptab.h xterm.h blockio.h
xfns.o: config.h ScreenWidgetP.h
xfns.o: ScreenWidget.h EmacsShell.h EmacsShellP.h xterm.h blockio.h
xfns.o: window.h buffer.h bufslots.h extents.h dispextern.h screen.h events.h
xselect.o: config.h xterm.h
xselect.o: blockio.h dispextern.h screen.h
xterm.o: config.h EmacsShellP.h
xterm.o: EmacsShell.h xterm.h blockio.h termhooks.h termopts.h
xterm.o: termchar.h buffer.h bufslots.h screen.h dispextern.h disptab.h
xterm.o: window.h bitmaps.h events.h
xutils.o: config.h xterm.h
xutils.o: blockio.h dispextern.h screen.h
