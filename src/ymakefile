/* Makefile for GNU Emacs.
   Copyright (C) 1985, 1987, 1988, 1990, 1992 Free Software Foundation, Inc.

This file is part of GNU Emacs.

GNU Emacs is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY.  No author or distributor
accepts responsibility to anyone for the consequences of using it
or for whether it serves any particular purpose or works at all,
unless he says so in writing.  Refer to the GNU Emacs General Public
License for full details.

Everyone is granted permission to copy, modify and redistribute
GNU Emacs, but only under the conditions described in the
GNU Emacs General Public License.   A copy of this license is
supposed to have been given to you along with GNU Emacs so you
can know your rights and responsibilities.  It should be in a
file named COPYING.  Among other things, the copyright notice
and this notice must be preserved on all copies.  */

COMPILE.c=$(CC) $(CFLAGS) $(CPPFLAGS) -c

dot = .
/* on Xenix, replace double-dot below with $(dot)$(dot) */
lispdir = ../lisp/
etcdir = ../etc/
shortnamesdir = ../shortnames/
cppdir = ../cpp/

#define NO_SHORTNAMES
#define THIS_IS_YMAKEFILE
#include "config.h"

#ifdef USE_GCC
CC=gcc
#else
#ifdef USE_LCC
CC=xlcc -XA -Xe -wa $(EMACS_ENERGIZE_CONNECT)
#endif
#endif

/* On some machines #define register is done in config;
   don't let it interfere with this file.  */
#undef register

#ifndef LIB_GCC
#define LIB_GCC
#endif

/* Some machines don't find the standard C libraries in the usual place.  */
#ifndef LIB_STANDARD
#define LIB_STANDARD -lc
#endif

/* Unless inhibited or changed, use -lg to link for debugging.  */
#ifndef LIBS_DEBUG
#define LIBS_DEBUG -lg
#endif

/* Some s- files define this to request special libraries.  */
#ifndef LIBS_SYSTEM
#define LIBS_SYSTEM
#endif

/* Some m- files define this to request special libraries.  */
#ifndef LIBS_MACHINE
#define LIBS_MACHINE
#endif

#ifndef LIB_MATH
# define LIB_MATH -lm
#endif

/* Some s- files define this to request special switches in ld.  */
#ifndef LD_SWITCH_SYSTEM
#if defined(COFF_ENCAPSULATE) || (defined (BSD) && !defined (COFF))
#define LD_SWITCH_SYSTEM -X
#else
#define LD_SWITCH_SYSTEM
#endif /* COFF, or not BSD */
#endif

/* Some m- files define this to request special switches in ld.  */
#ifndef LD_SWITCH_MACHINE
#define LD_SWITCH_MACHINE
#endif

/* Some m- files define this to request special switches in cc.  */
#ifndef C_SWITCH_MACHINE
#define C_SWITCH_MACHINE
#endif

/* Some s- files define this to request special switches in cc.  */
#ifndef C_SWITCH_SYSTEM
#define C_SWITCH_SYSTEM
#endif

/* These can be passed in from config.h to define special load and
   compile switches needed by individual sites */
#ifndef LD_SWITCH_SITE
#define LD_SWITCH_SITE
#endif

#ifndef C_SWITCH_SITE
#define C_SWITCH_SITE
#endif

#ifndef START_FILES
#ifdef NO_REMAP
#ifdef COFF_ENCAPSULATE
#define START_FILES pre-crt0.o /usr/local/lib/gcc-crt0.o
#else
#define START_FILES pre-crt0.o /lib/crt0.o
#endif
#else /* not NO_REMAP */
#define START_FILES crt0.o
#endif /* not NO_REMAP */
#endif /* have START_FILES */
STARTFILES = START_FILES

/* Unless inhibited or changed, use -g to compile for debugging.  */
#ifndef C_DEBUG_SWITCH
#define C_DEBUG_SWITCH -g
#endif

/* If user wants to optimize, this is how.  */
#ifndef C_OPTIMIZE_SWITCH
#define C_OPTIMIZE_SWITCH -O
#endif

/* cc switches needed to make `asm' keyword work.
   Nothing special needed on most machines.  */
#ifndef C_SWITCH_ASM
#define C_SWITCH_ASM
#endif

/* Specify address for ld to start loading at,
   if requested by configuration.  */

#ifdef LD_TEXT_START_ADDR
STARTFLAGS = -T LD_TEXT_START_ADDR -e __start
#endif

#ifdef COFF_ENCAPSULATE
LD=$(CC) -nostdlib
#else /* !COFF_ENCAPSULATE */
#ifdef LD_CMD
LD=LD_CMD
#else /* !LD_CMD */
#if defined(USE_GCC) && defined(__GNUC__) && (__GNUC__ >= 2)
LD=gcc -nostdlib
#undef LIB_GCC
#define LIB_GCC -lgcc
#else /* !GNUC >= 2 */
#ifdef AIX
LD=cc
#else  /* !AIX */
LD=ld
#endif /* !AIX */
#endif /* !GNUC >= 2 */
#endif /* !LD_CMD */
#endif /* !COFF_ENCAPSULATE */

ILD=/cadillac1/code/bin.sun4/ild

PURIFY=/usr/local/purify/purify

/* Figure out whether the system cpp can handle long names.
   Do it by testing it right now.
   If it loses, arrange to use the GNU cpp.  */

#define LONGNAMEBBBFOOX
#ifdef LONGNAMEBBBARFOOX
/* Installed cpp fails to distinguish those names!  */
/* Arrange to compile the GNU cpp later on */
#define NEED_CPP
/* Cause cc to invoke the cpp that comes with Emacs,
   which will be in a file named localcpp.  */
MYCPPFLAG= -Blocal 
/* LOCALCPP is the local one or nothing.
   CPP is the local one or the standardone.  */
LOCALCPP= localcpp
#endif /* NEED_CPP */

#ifdef SHORTNAMES
SHORT= shortnames
#endif /* SHORTNAMES */

/* DO NOT use -R.  There is a special hack described in lastfile.c
   which is used instead.  Some initialized data areas are modified
   at initial startup, then labeled as part of the text area when
   Emacs is dumped for the first time, and never changed again. */

/* You may replace C_DEBUG_SWITCH with C_OPTIMIZE_SWITCH
   if you don't believe in debugging. */

/* -Demacs is needed to make some files produce the
   correct version for use in Emacs.  */

#ifdef USE_SOUND
#ifdef sparc
# define SOUND_CFLAGS	-I/usr/demo/SOUND
# define SOUND_LIBS	-L/usr/demo/SOUND -laudio
# define SOUND_OBJS	play.o
#else /* ! sparc */
#ifdef sgi
# define SOUND_CFLAGS
# define SOUND_LIBS	-laudio
# define SOUND_OBJS	sgiplay.o
#else /* ! sgi */
  ERROR!!  USE_SOUND can only be defined on SparcStation and SGI
#endif /* ! sgi */
#endif /* ! sparc */
#else /* ! USE_SOUND */
# define SOUND_CFLAGS
# define SOUND_LIBS
# define SOUND_OBJS
#endif /* ! USE_SOUND */

#ifdef ENERGIZE
CONN_DIR=../connection
#define ENERGIZE_INCLUDES -I${CONN_DIR}
#define ENERGIZE_LDFLAGS -L${CONN_DIR}
#define ENERGIZE_LIBS -lconn
#else /* !ENERGIZE */
#define ENERGIZE_INCLUDES
#define ENERGIZE_LDFLAGS
#define ENERGIZE_LIBS
#endif /* !ENERGIZE */


CFLAGS= C_DEBUG_SWITCH C_SWITCH_MACHINE C_SWITCH_SYSTEM C_SWITCH_SITE \
	-Demacs $(MYCPPFLAG) $(LIBX11_INCLUDES) ENERGIZE_INCLUDES

LDFLAGS= LD_SWITCH_SYSTEM LD_SWITCH_MACHINE LD_SWITCH_SITE \
	-L. $(LIBX11_LDFLAGS) ENERGIZE_LDFLAGS 

#ifndef LIBX11_MACHINE
#define LIBX11_MACHINE
#endif

#ifndef LIBX11_SYSTEM
#define LIBX11_SYSTEM
#endif

#ifdef HAVE_X_WINDOWS
XOBJ= xterm.o xfns.o xselect.o xutils.o event-Xt.o menubar.o

LWLIBDIR = ./lwlib

LIBX11_LDFLAGS = -L$(LWLIBDIR)
LIBX11_INCLUDES = -I$(LWLIBDIR)

#ifdef HAVE_XPM
XPM_LIBS = -lXpm
#endif /* !HAVE_XPM */

#ifdef LWLIB_USES_MOTIF
TOOLKIT_LIBS = -lXm
#else /* ! LWLIB_USES_MOTIF */
#ifdef LWLIB_USES_OLIT
TOOLKIT_LIBS = -lXol
#else /* ! LWLIB_USES_OLIT */
TOOLKIT_LIBS = 
#endif /* ! LWLIB_USES_OLIT */
#endif /* ! LWLIB_USES_MOTIF */

LIBX11_LIBS = -llw $(TOOLKIT_LIBS) $(XPM_LIBS) -lXaw -lXext -lXt

LIBX=  $(LIBX11_LIBS) -lXmu -lX11 LIBX11_MACHINE LIBX11_SYSTEM

#endif /* HAVE_X_WINDOWS */

#ifdef MAINTAIN_ENVIRONMENT
#undef environ
environobj = environ.o
#endif /* MAINTAIN_ENVIRONMENT */

/* Allow config.h to specify a replacement file for unexec.c.  */
#ifndef UNEXEC
#define UNEXEC unexec.o
#endif

#ifdef ENERGIZE
#define ENERGIZE_OBJS elhash.o hash.o editorside.o
#else
#define ENERGIZE_OBJS elhash.o hash.o
#endif

#ifdef EMACS_BTL
#define BTLOBJS cadillac-btl-emacs.o
#else
#define BTLOBJS
#endif

#if defined(FREE_CHECKING)||defined(DEBUG_INPUT_BLOCKING)||defined(DEBUG_GCPRO)
#define FREECHECKOBJS free-hook.o
#else
#define FREECHECKOBJS
#endif

#ifdef NEED_REALPATH
#define REALPATH_OBJS realpath.o
#else
#define REALPATH_OBJS
#endif

/* lastfile must follow all files
   whose initialized data areas should be dumped as pure by dump-emacs. */
obj=    dispnew.o screen.o scroll.o xdisp.o window.o \
	events.o event-alloc.o event-stream.o \
	term.o cm.o $(XOBJ) SOUND_OBJS \
	emacs.o keyboard.o macros.o keymap.o sysdep.o \
	buffer.o filelock.o insdel.o marker.o \
	minibuf.o fileio.o dired.o filemode.o \
	cmds.o casetab.o casefiddle.o indent.o search.o regex.o undo.o \
	pure.o alloc.o data.o doc.o editfns.o callint.o \
	eval.o floatfns.o fns.o print.o lread.o \
	abbrev.o syntax.o font_lock.o UNEXEC mocklisp.o bytecode.o \
	process.o callproc.o $(environobj) ENERGIZE_OBJS BTLOBJS \
	FREECHECKOBJS REALPATH_OBJS doprnt.o extents.o faces.o 

#ifdef TERMINFO
/* Used to be -ltermcap here.  If your machine needs that,
   define LIBS_TERMCAP in the m- file.  */
#ifndef LIBS_TERMCAP
#define LIBS_TERMCAP -lcurses
#endif
termcapobj = terminfo.o
#else
#ifndef LIBS_TERMCAP
#define LIBS_TERMCAP
termcapobj = termcap.o tparam.o
#else
termcapobj = tparam.o
#endif
#endif

#ifndef HAVE_ALLOCA
#define ALLOCA_OBJ alloca.o
#else
#define ALLOCA_OBJ
#endif /* No ALLOCA */

#ifndef SYSTEM_MALLOC

#ifdef GNU_MALLOC  /* New GNU malloc */
#ifdef REL_ALLOC
mallocobj = gmalloc.o ralloc.o ALLOCA_OBJ
#else /* !REL_ALLOC */
mallocobj = gmalloc.o vm-limit.o ALLOCA_OBJ
#endif /* !REL_ALLOC */
#else  /* Old GNU malloc */
mallocobj = malloc.o ALLOCA_OBJ
#endif /* Old GNU malloc */

#else /* not SYSTEM_MALLOC */

mallocobj = ALLOCA_OBJ

#endif /* not SYSTEM_MALLOC */

#ifdef HAVE_X_WINDOWS
#define LIBX11_OBJ ScreenWidget.o ColumnWidget.o EmacsShell.o
#define LWLIB_DEPS $(LWLIBDIR)/liblw.a
#else /* !X */
#define LIBX11_OBJ
#define LWLIB_DEPS
#endif

/* define otherobj as list of object files that make-docfile
   should not be told about.  */
otherobj= $(termcapobj) lastfile.o $(mallocobj) LIBX11_OBJ
  
#ifdef LISP_FLOAT_TYPE
#define FLOAT_LISP ${lispdir}prim/float-sup.elc
#else
#define FLOAT_LISP
#endif

#ifdef HAVE_X_WINDOWS
/* lisp files that are preloaded if compiled with support for X Windows */
#define X11_LISP ${lispdir}prim/screen.elc ${lispdir}prim/menubar.elc \
                ${lispdir}prim/menubar.elc ${lispdir}x11/x-faces.elc \
                ${lispdir}x11/x-iso8859-1.elc ${lispdir}x11/x-mouse.elc \
                ${lispdir}prim/mouse.elc ${lispdir}prim/mode-motion.elc \
                ${lispdir}x11/xselect.elc
#else
#define X11_LISP
#endif

#ifdef ENERGIZE
/* Lisp files that are preloaded if compiled with support for Energize
   It is very important that energize-advise.elc come last.
 */
#define ENERGIZE_LISP ${lispdir}modes/c++-mode.elc ${lispdir}comint/gdb.elc \
                ${lispdir}comint/comint.elc ${lispdir}comint/shell.elc \
                ${lispdir}packages/compile.elc \
                ${lispdir}modes/view-less.elc ${lispdir}emulators/evi.elc \
                ${lispdir}dired/dired.elc ${lispdir}dired/dired-x.elc \
                ${lispdir}energize/energize-init.elc \
                ${lispdir}energize/energize-mode.elc \
                ${lispdir}energize/energize-windows.elc \
                ${lispdir}energize/energize-menus.elc \
                ${lispdir}energize/energize-shell.elc \
                ${lispdir}energize/energize-visit-use.elc \
                ${lispdir}energize/energize-vi.elc \
                ${lispdir}energize/energize-advise.elc
#else
#define ENERGIZE_LISP
#endif


/* List of Lisp files loaded into the dumped Emacs.
   Every file that is loaded from loadup.el must be enumerated
   here, or the functions won't have have docstrings.
   This is dumb, this list should be generated automatically.
 */
lisp=	${lispdir}version.el ${lispdir}paths.el \
	${lispdir}prim/loadup.el ${lispdir}prim/keydefs.el \
	${lispdir}prim/subr.elc ${lispdir}prim/minibuf.elc \
	${lispdir}prim/faces.elc ${lispdir}prim/loaddefs.el \
	${lispdir}prim/simple.elc ${lispdir}prim/help.elc \
	${lispdir}prim/files.elc ${lispdir}prim/indent.elc \
	${lispdir}prim/window.elc ${lispdir}prim/startup.elc \
	${lispdir}prim/lisp.elc ${lispdir}prim/page.elc \
	${lispdir}prim/register.elc ${lispdir}prim/iso8859-1.elc \
	${lispdir}prim/paragraphs.elc ${lispdir}modes/lisp-mode.elc \
	${lispdir}modes/text-mode.elc ${lispdir}prim/fill.elc \
	${lispdir}modes/c-mode.elc ${lispdir}prim/isearch-mode.elc \
	${lispdir}prim/replace.elc ${lispdir}modes/abbrev.elc \
	${lispdir}packages/buff-menu.elc ${lispdir}prim/userlock.elc \
	${lispdir}bytecomp/bytecomp-runtime.elc \
	FLOAT_LISP X11_LISP ENERGIZE_LISP

/* just to be sure the sh is used */
SHELL=/bin/sh

/* Construct full set of libraries to be linked.  */
#ifdef EMACS_BTL
#define EMACS_BTL_LIBS -lbtl
#else /* ! BTL */
#define EMACS_BTL_LIBS
#endif /* BTL */

LIBES = SOUND_LIBS ENERGIZE_LIBS EMACS_BTL_LIBS \
        $(LIBX) LIBS_SYSTEM LIBS_MACHINE LIBS_TERMCAP \
	LIBS_DEBUG LIB_GCC LIB_MATH LIB_STANDARD

/* Enable recompilation of certain other files depending on system type.  */

#ifndef OTHER_FILES
#define OTHER_FILES
#endif

/* Enable inclusion of object files in temacs depending on system type.  */
#ifndef OBJECTS_SYSTEM
#define OBJECTS_SYSTEM
#endif

#ifndef OBJECTS_MACHINE
#define OBJECTS_MACHINE
#endif

all: release OTHER_FILES

release: temacs ${lisp} ${etcdir}DOC OTHER_FILES
	./temacs -batch -l inc-vers
	./temacs -batch -l loadup.el dump

xemacs: temacs ${lisp} ${etcdir}DOC OTHER_FILES
	./temacs -batch -l loadup.el dump

${etcdir}DOC: ${etcdir}make-docfile ${obj} ${lisp}
	rm -f ${etcdir}DOC
	${etcdir}make-docfile ${obj} ${lisp} ${lispdir}version.el > \
	  ${etcdir}DOC

${etcdir}make-docfile:
	cd ${etcdir}; make ${MFLAGS} make-docfile

/* Some systems define this to cause parallel Make-ing.  */
#ifndef MAKE_PARALLEL
#define MAKE_PARALLEL
#endif

#define TEMACS_DEPS       MAKE_PARALLEL $(LOCALCPP) $(SHORT) $(STARTFILES) \
			  ${obj} ${otherobj} OBJECTS_SYSTEM OBJECTS_MACHINE \
			  LWLIB_DEPS

#define TEMACS_LINK_ARGS  ${STARTFLAGS} ${LDFLAGS} -o $@ \
			  ${STARTFILES} ${obj} ${otherobj} OBJECTS_SYSTEM \
			  OBJECTS_MACHINE ${LIBES}

temacs: TEMACS_DEPS
	$(LD)  TEMACS_LINK_ARGS

cemacs: TEMACS_DEPS
	$(LD) TEMACS_LINK_ARGS

puremacs: TEMACS_DEPS
	$(PURIFY) $(LD) TEMACS_LINK_ARGS

#ifdef HAVE_X_WINDOWS
$(LWLIBDIR)/Makefile: $(LWLIBDIR)/Imakefile
	cd $(LWLIBDIR); if [ -f Makefile ]; then $(MAKE) Makefile;else xmkmf;fi

$(LWLIBDIR)/liblw.a: $(LWLIBDIR)/Makefile
	cd $(LWLIBDIR) ; $(MAKE) $(MFLAGS) liblw.a
#endif

/* These are needed for C compilation, on the systems that need them */
#ifdef NEED_CPP
CPP = ./localcpp
localcpp:
	cd ${cppdir}; make ${MFLAGS} EMACS=-DEMACS
	ln ${cppdir}cpp localcpp  /* Name where CFLAGS will refer to it */
/* cc appears to be cretinous and require all of these to exist
   if -B is specified -- we can't use one local pass and let the
   others be the standard ones.  What a loser.
   We can't even use ln, since they are probably
   on different disks.  */
	cp /lib/ccom localccom
	-cp /lib/optim localoptim
	-cp /lib/c2 localc2
	cp /bin/as localas
#else /* not NEED_CPP */
CPP = $(CC) -E
#endif /* need NEED_CPP */

#ifdef SHORTNAMES
shortnames:
	cd ${shortnamesdir}; make ${MFLAGS}
#endif /* SHORTNAMES */

paths.h: paths.h-dist
	@sh -c "if test -r $@; then echo $? is newer than $@; exit 1;\
	  else exit 0; fi"
	cp $? $@

config.h: config.h-dist
	@sh -c "if test -r $@; then echo $? is newer than $@; exit 1;\
	  else exit 0; fi"
	cp $? $@

/* Some machines have alloca built-in.
   They should define HAVE_ALLOCA, or may just let alloca.s
   be used but generate no code.
   Some have it written in assembler in alloca.s.
   Some use the C version in alloca.c (these define C_ALLOCA in config.h).
   */

#ifdef C_ALLOCA
alloca.o : alloca.c
#else
#ifndef HAVE_ALLOCA
alloca.o : alloca.s config.h
/* $(CPP) is cc -E, which may get confused by filenames
   that do not end in .c.  So copy file to a safe name.  */
	cp alloca.s allocatem.c
/* remove any ^L, blank lines, and preprocessor comments,
   since some assemblers barf on them */
	$(CPP) allocatem.c | \
	sed -e 's///' -e 's/^#.*//' | \
	sed -n -e '/^..*$$/p' > allocatem.s
	-rm -f alloca.o
/* Xenix, in particular, needs to run assembler via cc.  */
	cc -c allocatem.s
	mv allocatem.o alloca.o
	rm allocatem.s allocatem.c
#endif /* HAVE_ALLOCA */
#endif /* not C_ALLOCA */

#ifdef USE_LCC  /* lcc doesn't do asm() yet */
crt0.o:
	cc -c -g -Demacs crt0.c

free-hook.o:
	gcc -c -g -Demacs free-hook.c
#endif

/* Nearly all the following files depend on lisp.h and emacsfns.h,
   but they are not included as a dependency because
   it is so often changed in ways that do not require any recompilation
   and so rarely changed in ways that do require any.  */

#ifdef HAVE_X_WINDOWS

xfns.o : xfns.c buffer.h bufslots.h screen.h window.h config.h xterm.h \
         ScreenWidget.h ColumnWidget.h EmacsShell.h EmacsShellP.h
xutils.o : xutils.c xterm.h config.h
xterm.o : xterm.c xterm.h termhooks.h termopts.h termchar.h dispextern.h \
          config.h sink.h sinkmask.h screen.h disptab.h bitmaps.h
xselect.o : xselect.c xterm.h screen.h config.h
ScreenWidget.o : ScreenWidget.c ScreenWidget.h ScreenWidgetP.h
ColumnWidget.o : ColumnWidget.c ColumnWidget.h ColumnWidgetP.h
EmacsShell.o : EmacsShell.c EmacsShell.h EmacsShellP.h

#endif /* HAVE_X_WINDOWS */

#ifdef USE_SOUND
#ifdef sparc
play.o : libsst.h
	$(CC) -c $(CFLAGS) SOUND_CFLAGS play.c
libsst.o : libsst.h
	$(CC) -c $(CFLAGS) SOUND_CFLAGS libsst.c
#endif /* sparc */
#endif

/* System-specific programs to be made.
   OTHER_FILES, OBJECTS_SYSTEM and OBJECTS_MACHINE
   select which of these should be compiled.  */

${etcdir}emacstool: ${etcdir}emacstool.c
	cd ${etcdir}; make ${MFLAGS} emacstool

/* Machine generated dependencies on .h files */

#undef alloca

ColumnWidget.o: ColumnWidgetP.h ColumnWidget.h
EmacsShell.o: EmacsShellP.h EmacsShell.h
LineInfoWidget.o: LineInfoWidgetP.h LineInfoWidget.h config.h 
LineInfoWidget.o: buffer.h bufslots.h
LineInfoWidget.o: screen.h dispextern.h window.h
ScreenWidget.o: ScreenWidgetP.h ScreenWidget.h config.h 
ScreenWidget.o: xterm.h blockio.h
ScreenWidget.o: dispextern.h screen.h
abbrev.o: config.h commands.h insdel.h
abbrev.o: buffer.h bufslots.h window.h
alloc.o: config.h buffer.h bufslots.h puresize.h
alloc.o: extents.h dispextern.h window.h events.h keymap.h xterm.h
alloc.o: blockio.h screen.h backtrace.h
alloca.o: config.h
buffer.o: config.h window.h
buffer.o: commands.h buffer.h bufslots.h screen.h dispextern.h syntax.h
bytecode.o: config.h buffer.h bufslots.h syntax.h
callint.o: config.h buffer.h bufslots.h
callint.o: commands.h window.h
callproc.o: config.h commands.h
callproc.o: buffer.h bufslots.h paths.h process.h insdel.h
casefiddle.o: config.h buffer.h bufslots.h
casefiddle.o: commands.h syntax.h insdel.h
casetab.o: config.h buffer.h bufslots.h
cm.o: config.h cm.h termhooks.h
cmds.o: config.h commands.h
cmds.o: buffer.h bufslots.h syntax.h insdel.h
crt0.o: config.h
data.o: config.h buffer.h bufslots.h puresize.h
dired.o: config.h buffer.h
dired.o: bufslots.h commands.h regex.h
dispnew.o: config.h indent.h termchar.h
dispnew.o: termopts.h cm.h buffer.h bufslots.h screen.h dispextern.h
dispnew.o: window.h commands.h disptab.h xterm.h blockio.h
doc.o: config.h buffer.h
doc.o: bufslots.h insdel.h
duplicates.o: config.h buffer.h
duplicates.o: bufslots.h process.h editorside.h hash.h extents-data.h
duplicates.o: extents.h dispextern.h
editfns.o: config.h pwd.h 
editfns.o: buffer.h bufslots.h window.h insdel.h
editorside.o: config.h buffer.h
editorside.o: bufslots.h extents.h dispextern.h process.h xterm.h blockio.h
editorside.o: screen.h window.h editorside.h hash.h extents-data.h
elhash.o: config.h hash.h elhash.h
emacs.o: config.h commands.h process.h
environ.o: config.h 
eval.o: config.h blockio.h
eval.o: commands.h backtrace.h
event-Xt.o: ScreenWidgetP.h ScreenWidget.h config.h
event-Xt.o: process.h events.h
event-Xt.o: blockio.h dispextern.h screen.h xterm.h
event-alloc.o: config.h buffer.h
event-alloc.o: bufslots.h window.h screen.h dispextern.h process.h events.h
event-alloc.o: xterm.h blockio.h
event-stream.o: config.h 
event-stream.o: buffer.h bufslots.h window.h process.h events.h
events.o: config.h buffer.h
events.o: bufslots.h process.h events.h
extents.o: config.h buffer.h
extents.o: bufslots.h process.h xterm.h blockio.h screen.h dispextern.h
extents.o: window.h editorside.h hash.h extents-data.h extents.h faces.h
fileio.o: pwd.h config.h 
fileio.o: buffer.h bufslots.h window.h insdel.h
filelock.o: config.h pwd.h 
filelock.o: paths.h buffer.h bufslots.h
floatfns.o: config.h 
fns.o: config.h commands.h
fns.o: buffer.h bufslots.h extents.h dispextern.h screen.h events.h
font_lock.o: config.h buffer.h bufslots.h syntax.h
free-hook.o: config.h hash.h blockio.h
faces.o: config.h xterm.h
faces.o: blockio.h buffer.h bufslots.h extents.h dispextern.h screen.h
faces.o: window.h indent.h editorside.h hash.h extents-data.h faces.h
gmalloc.o: config.h
hash.o: hash.h config.h 
indent.o: config.h buffer.h bufslots.h
indent.o: extents.h dispextern.h indent.h screen.h window.h
indent.o: termchar.h termopts.h disptab.h xterm.h blockio.h
indent.o: insdel.h
insdel.o: config.h buffer.h bufslots.h
insdel.o: extents.h dispextern.h window.h
insdel.o: insdel.h
keyboard.o: config.h termchar.h
keyboard.o: termopts.h termhooks.h macros.h buffer.h bufslots.h
keyboard.o: screen.h dispextern.h window.h commands.h disptab.h events.h
keyboard.o: backtrace.h
keymap.o: config.h keymap.h elhash.h
keymap.o: commands.h buffer.h bufslots.h events.h
keymap.o: insdel.h
libsst.o: libsst.h
lread.o: config.h buffer.h
lread.o: bufslots.h paths.h commands.h
macros.o: config.h events.h
macros.o: macros.h commands.h buffer.h bufslots.h window.h
malloc.o: config.h getpagesize.h
marker.o: config.h buffer.h
marker.o: bufslots.h
menubar.o: config.h dispextern.h
menubar.o: screen.h xterm.h blockio.h events.h window.h buffer.h bufslots.h
menubar.o: ./lwlib/lwlib.h
menuitems.o: config.h menuitems.h
menuitems.o: connmemory.h editorside.h hash.h
minibuf.o: config.h commands.h
minibuf.o: buffer.h bufslots.h screen.h dispextern.h window.h syntax.h
mocklisp.o: config.h buffer.h
mocklisp.o: bufslots.h
play.o: libsst.h
sgiplay.o: config.h libst.h
print.o: config.h buffer.h bufslots.h
print.o: extents.h dispextern.h screen.h window.h process.h
print.o: events.h insdel.h
process.o: config.h window.h
process.o: buffer.h bufslots.h process.h termhooks.h termopts.h commands.h
process.o: events.h insdel.h
pure.o: config.h puresize.h
ralloc.o: config.h mem_limits.h
regex.o: config.h buffer.h
regex.o: bufslots.h syntax.h regex.h
screen.o: config.h dispextern.h
screen.o: screen.h window.h xterm.h blockio.h
scroll.o: config.h termchar.h 
scroll.o: dispextern.h screen.h
search.o: config.h syntax.h
search.o: buffer.h bufslots.h commands.h regex.h insdel.h
sunfns.o: config.h window.h
sunfns.o: buffer.h bufslots.h termhooks.h
syntax.o: config.h commands.h
syntax.o: buffer.h bufslots.h syntax.h
sysdep.o: config.h dispextern.h
sysdep.o: screen.h window.h termhooks.h termchar.h termopts.h process.h
term.o: config.h termhooks.h
term.o: termchar.h termopts.h cm.h dispextern.h screen.h disptab.h
termcap.o: config.h
tparam.o: config.h
undo.o: config.h buffer.h
undo.o: bufslots.h
unexconvex.o: config.h getpagesize.h
unexec.o: config.h getpagesize.h
unexenix.o: config.h
unexmips.o: config.h
unexsunos4.o: config.h
vm-limit.o: config.h mem_limits.h
vm-limit.o: 
vmsproc.o: ssdef.h iodef.h dvidef.h clidef.h vmsproc.h
window.o: config.h buffer.h
window.o: bufslots.h screen.h dispextern.h window.h commands.h indent.h
window.o: termchar.h disptab.h
xdisp.o: config.h window.h
xdisp.o: termchar.h buffer.h bufslots.h extents.h dispextern.h screen.h
xdisp.o: indent.h commands.h macros.h disptab.h xterm.h blockio.h
xfns.o: config.h ScreenWidgetP.h
xfns.o: ScreenWidget.h EmacsShell.h EmacsShellP.h xterm.h blockio.h
xfns.o: window.h buffer.h bufslots.h extents.h dispextern.h screen.h events.h
xselect.o: config.h xterm.h
xselect.o: blockio.h dispextern.h screen.h
xterm.o: config.h EmacsShellP.h
xterm.o: EmacsShell.h xterm.h blockio.h termhooks.h termopts.h
xterm.o: termchar.h buffer.h bufslots.h screen.h dispextern.h disptab.h
xterm.o: window.h bitmaps.h events.h
xutils.o: config.h xterm.h
xutils.o: blockio.h dispextern.h screen.h
